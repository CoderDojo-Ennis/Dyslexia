<!DOCTYPE HTML>
<html lang="en">
<head>
	<title>Survey Application</title>
	<meta charset='utf-8'>  
	<link rel="stylesheet" href="../CSS/style.css" type="text/css">
	<script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
</head>

<script type="text/javascript">

		//var userFirstName = sessionStorage.getItem;
		//var age = sessionStorage.age;
		//var q1 = ("input[type='radio'][name='q1']:checked").value;
		//var q2 = ("input[type='radio'][name='q2']:checked").value;
		//var q3 = ("input[type='radio'][name='q3']:checked").value;
		//var q4 = ("input[type='radio'][name='q4']:checked").value;
		//var q5 = ("input[type='radio'][name='q5']:checked").value;
		//var q6 = ("input[type='radio'][name='q6']:checked").value;
		//var q7 = ("input[type='radio'][name='q7']:checked").value;
		//var q8 = ("input[type='radio'][name='q8']:checked").value;
		//var q9 = ("input[type='radio'][name='q9']:checked").value;
		var q10 = ("input[type='radio'][name='q10']:checked").value;

	
	function submitData(){
		var q10A_Radio;
		var q10B_Radio;
		
		 if(document.getElementById('q10A').checked)
		 {
			q10A_Radio = document.getElementById('q10A').value;
			sessionStorage.setItem("q10A",q10A_Radio);

			sessionStorage.removeItem("q10B",q10B_Radio);
			
		 }
		 
		 else 
		 {
		 	//var Q10B = document.getElementById('q10B').checked;
			q10B_Radio = document.getElementById('q10B').value;
			sessionStorage.setItem("q10B",q10B_Radio);

			sessionStorage.removeItem("q10A",q10A_Radio);
		 }

		 var Q10B = document.getElementById('q10B').checked;

		 


		//https://stackoverflow.com/questions/9713058/send-post-data-using-xmlhttprequest
		
		var xhr = new XMLHttpRequest();
		
		var url = "https://script.google.com/macros/s/AKfycbwzHCFDKpZ0n5GIh3r0nG3j0RIgYLvKRvacqWiEov6tUbAcGdH_/exec";


		var myObj = {"FirstName" : userFirstName,"Age" : age, "Q1":q1,"Q2":q2,
					"Q3" : q3,"Q4":q4,"Q5":q5,"Q6":q6,"Q7":q7,"Q8":q8,

					console.log(userFirstName);
<<<<<<< Updated upstream
				    "Q9": q9,"Q10":q10,
					Q10B: Q10B};
=======
				    "Q9": q9,"Q10":q10};

		var myJSON = JSON.stringify(myObj);

		
>>>>>>> Stashed changes
				   
		/*
		xhr.open("POST", url, true);
		//xhr.setRequestHeader('Access-Control-Allow-Origin', '*');
		
<<<<<<< Updated upstream
		xhr.send(JSON.stringify(myObj));
		*/

		console.log("Posting object: " + JSON.stringify(myObj));

		$.ajax({
                    url: url,
                    data: myObj,
                    type: "POST",
                    dataType: "xml",
                    statusCode: {
                        0: function() {
                            //Success message
                        },
                        200: function() {
                            //Success Message
                        }
                    }
                });



=======
		xhr.send(myJSON);
>>>>>>> Stashed changes


	    //window.location.href = "thankyou.html";	 
	}

	function goBack(){
	
		window.history.back();
		
		window.location.href = "question9.html";
	}

</script>
 
<body>
	<form name="surveyApp" action="" method="POST"> 
		<h1>Q10 Which of the following code reads better?</h1><br>
		
		<input type="radio" id="q10A" name="q10" value="A"> A<br><br>
		<img src="../Images/HTML(notepad++).png" alt="notepad" style="width:450px;height:200px;"><br><br><br>
					
		<input type="radio" id="q10B" name="q10" value="B"> B<br><br>
		<img src="../Images/HTML(PSPad).png" alt="pspad" style="width:450px;height:200px;" ><br><br><br><br>

		<input type=button id="back" onClick="goBack()" 
		value='Back' style="float: left;">
					
		<input type=button id="submit" onClick="submitData()" 
		value='Submit' style="float: right;">
	</form>
</body>

</html>
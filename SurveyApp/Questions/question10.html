<!DOCTYPE HTML>
<html lang="en">
<head>
	<title>Survey Application</title>
	<meta http-equiv="Access-Control-Allow-Origin" content="*" charset='utf-8'>  
	<link rel="stylesheet" href="../CSS/style.css" type="text/css">
</head>

<script type="text/javascript">

		var q1 = ('#q1').checked;
		var q2 = ('#q2').checked;
		var q3 = ('#q3').checked;
		var q4 = ('#q4').checked;
		var q5 = ('#q5').checked;
		var q6 = ('#q6').checked;
		var q7 = ('#q7').checked;
		var q8 = ('#q8').checked;
		var q9 = ('#q9').checked;
		var q10 = ('#q10').checked;

	
	function submitData(){
		var q10A_Radio;
		var q10B_Radio;
		
		 if(document.getElementById('q10A').checked)
		 {
			q10A_Radio = document.getElementById('q10A').value;
			sessionStorage.setItem("q10A",q10A_Radio);
			
			sessionStorage.removeItem("q10B",q10B_Radio);
			
		 }
		 
		 else if(document.getElementById('q10B').checked)
		 {
			q10B_Radio = document.getElementById('q10B').value;
			sessionStorage.setItem("q10B",q10B_Radio);
			
			sessionStorage.removeItem("q10A",q10A_Radio);
		 }

		//https://stackoverflow.com/questions/9713058/send-post-data-using-xmlhttprequest
		
		var xhr = new XMLHttpRequest();
		
		//https://www.googleapis.com/auth/spreadsheets
		var url = "https://script.google.com/macros/s/AKfycbwzHCFDKpZ0n5GIh3r0nG3j0RIgYLvKRvacqWiEov6tUbAcGdH_/exec";
		
		var myObj = {"First Name" : sessionStorage.fname,"Age" : sessionStorage.age, 
				   "Q1":q1,"Q2":q2,"Q3" : q3,"Q4":q4,"Q5":q5,"Q6":q6,"Q7":q7,"Q8":q8,
				   "Q9": q9,"Q10":q10};
				   
		xhr.open("POST", url, true);
		xhr.setRequestHeader('Access-Control-Allow-Origin', '*');
		
		xhr.send(JSON.stringify(myObj));


	    //window.location.href = "thankyou.html";	 
	}

	function goBack(){
	
		window.history.back();
		
		window.location.href = "question9.html";
	}
	
	
	

</script>
 
<body>
	<form name="surveyApp" action="" method="POST"> 
		<h1>Q10 Which of the following code reads better?</h1><br>
		
		<input type="radio" id="q10A" name="q10" value="A"> A<br>
		<img src="../Images/HTML(notepad++).png" alt="notepad" style="width:450px;height:200px;"><br>
					
		<input type="radio" id="q10B" name="q10" value="B"> B<br>
		<img src="../Images/HTML(PSPad).png" alt="pspad" style="width:450px;height:200px;" ><br><br><br><br>

		<input type=button id="back" onClick="goBack()" 
		value='Back' style="float: left;">
					
		<input type=button id="submit" onClick="submitData()" 
		value='Submit' style="float: right;">
	</form>
</body>

</html>